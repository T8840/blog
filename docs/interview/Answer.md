

## 锁相关面试题

### 死锁的理解

https://time.geekbang.org/dailylesson/detail/100056846?tid=143


## 业务相关面试题

### 表的主键用数字还是UUID

### 订单号与流水号关系
订单号必须满足唯一性，而流水号不用满足强一致性。
流水号能携带比订单号更多的信息。

### 逻辑删除还是物理删除
使用逻辑删除，定时归档到history表。

### 系统上线了，如何维护表结构
- 不影响业务的维护操作可以在线执行，先做好备份
- 影响业务的维护操作，要使用PerconaToolkit工具

## 结合系统负载的情况谈下设计方案
- 读多写少的方案： MySQL + NoSQL
- 写多读少的方案： MySQL + TokuDB

## 预防数据库超售现象
- 设置数据库事务的隔离级别Serializable
- 在数据表上设置乐观锁字段，使用程序实现乐观锁
- 利用Redis防止超售