---
title: 视图
author: T8840
date: '2023-01-15'
---

## 视图定义

视图是一种虚拟表，我们可以把一段查询语句作为视图存储在数据库中，在需要的时候，可以把视图看做一个表，对里面的数据进行查询。  

创建视图的语法结构：
```sql
CREATE [OR REPLACE]
VIEW 视图名称 [(字段列表)]
AS 查询语句
```


### 其他
子查询：就是嵌套在另一个查询中的查询。  
派生表：如果我们在查询中把子查询的结果作为一个表来使用，这个表就是派生表。  

## 操作视图

### 修改视图
```sql
ALTER VIEW 视图名
AS 查询语句;
```

### 查看视图

```sql
DESCRIBE 视图名；
```

### 删除视图

```sql
ROP VIEW 视图名;
```

### 在视图中插入数据

只有视图中的字段跟实际数据表中的字段完全一样，MySQL才允许通过视图插入数据.
视图插入的数据实际表中也会被插入；

### 删除视图中数据

通过DELETE语句，删除视图中的数据

### 修改视图中的数据
通过UPDATE语句对视图中的数据进行修改。  
不建议对视图的数据进行更新操作，因为MySQL允许用比较复杂的SQL查询语句来创建视图（比如SQL查询语句中使用了分组和聚合函数，或者是UION和DISTINCT关键字），所以，要通过对这个结果集的更新来更新实际数据表，有可能不被允许，因为MySQL没办法精确定位实际数据表中的记录。

## 视图的优缺点

### 优点
1. 简化查询
2. 视图不保存数据，不占用数据存储的空间。
3. 视图具有隔离性。视图相当于在用户和实际的数据表之间加了一层，用户不需要直接访问数据表，提高了数据表的安全性，也方便了用户查询
4. 数据结构相对独立，即便实际表结构产生了变化，也可以通过修改视图的SQL语句使用户不受影响。

### 缺点
数据表的变更，需要及时对视图进行维护，特别是当视图是由视图生成的时候，维护会变得比较复杂。